<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title -->
    <title>verdure - Gardening</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>



    <!-- Favicon -->
    <link rel="icon" href="/static/alazea-gh-pages/img/core-img/favicon.ico">

    <!-- Core Stylesheet -->
    <link rel="stylesheet" href="/static/alazea-gh-pages/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.0/css/bootstrap.min.css">

</head>

<body>
    <!-- Preloader -->
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-circle"></div>
        <div class="preloader-img">
            <img src="/static/alazea-gh-pages/img/core-img/leaf.png" alt="">
        </div>
    </div>

    <!-- ##### Header Area Start ##### -->
    <header class="header-area">

        <!-- ***** Top Header Area ***** -->
        <div class="top-header-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="top-header-content d-flex align-items-center justify-content-between">
                            <!-- Top Header Content -->
                            <div class="top-header-meta">
                                <a href="#" data-toggle="tooltip" data-placement="bottom" title="verdure@gmail.com"><i
                                        class="fa fa-envelope-o" aria-hidden="true"></i> <span>Email:
                                        verdure@gmail.com</span></a>
                                <a href="#" data-toggle="tooltip" data-placement="bottom" title="+1 234 122 122"><i
                                        class="fa fa-phone" aria-hidden="true"></i> <span>Call Us: +1 234 122
                                        122</span></a>
                            </div>

                            <!-- Top Header Content -->
                            <div class="top-header-meta d-flex">
                                <!-- Language Dropdown -->

                                <!-- Login -->
                                <div class="login">
                                    <a href="#"><i class="fa fa-user" aria-hidden="true"></i> <span>Login</span></a>
                                </div>
                                <!-- Cart -->
                                <div class="cart">
                                    <a href="{% url 'cart:carts' %}"><i class="fa fa-shopping-cart" aria-hidden="true"></i> <span>Cart <span
                                                class="cart-quantity"></span></span></a>
                                </div>
                                <div class="login ml-5">
                                    {% if user.is_authenticated %}
                                        <a href="{% url 'userprofile' %}"><i class="fa fa-user" aria-hidden="true"></i> <span>My Profile</span></a>
                                    {% endif %}  
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ***** Navbar Area ***** -->
        <div class="alazea-main-menu">
            <div class="classy-nav-container breakpoint-off">
                <div class="container">
                    <!-- Menu -->
                    <nav class="classy-navbar justify-content-between" id="alazeaNav">

                        <!-- Nav Brand -->
                        <a href="index.html" class="nav-brand"><img src="/static/alazea-gh-pages/img/core-img/logo3.png"
                                height="300" width="300" alt=""></a>

                        <!-- Navbar Toggler -->
                        <div class="classy-navbar-toggler">
                            <span class="navbarToggler"><span></span><span></span><span></span></span>
                        </div>

                        <!-- Menu -->
                        <div class="classy-menu">

                            <!-- Close Button -->
                            <div class="classycloseIcon">
                                <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                            </div>

                            <!-- Navbar Start -->
                            <div class="classynav">
                                <ul>
                                    <li><a href="{% url 'welcome' %}">Home</a></li>
                                    <li><a href="{% url 'about' %}">About</a></li>
                                    <li><a href="">Pages</a>
                                        <ul class="dropdown">
                                            <li><a href="{% url 'welcome' %}">Home</a></li>
                                            <li><a href="{% url 'about' %}">About</a></li>
                                            <li><a href="{% url 'productlist' %}">Shop</a>
                                                <ul class="dropdown">
                                                    <li><a href="{% url 'productlist' %}">Shop</a></li>
                                                    <li><a href="{% url 'productlist' %}">Shop Details</a></li>
                                                    <li><a href="{% url 'cart:carts' %}">Shopping Cart</a></li>
                                                    <li><a href="">Checkout</a></li>
                                                </ul>
                                            </li>
                                           
                                           
                                            <li><a href="{% url 'getintouch' %}">Contact</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="{% url 'productlist' %}">Shop</a></li>
                                    <li><a href="{% url 'getintouch' %}">Contact</a></li>
                                </ul>

                                <!-- Search Icon -->
                                <div id="searchIcon">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                </div>

                            </div>
                            <!-- Navbar End -->
                        </div>
                    </nav>

                    <!-- Search Form -->
                    <div class="search-form">
                        <form action="#" method="get">
                            <input type="search" name="search" id="search"
                                placeholder="Type keywords &amp; press enter...">
                            <button type="submit" class="d-none"></button>
                        </form>
                        <!-- Close Icon -->
                        <div class="closeIcon"><i class="fa fa-times" aria-hidden="true"></i></div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- ##### Header Area End ##### -->

    <!-- ##### Breadcrumb Area Start ##### -->
    <div class="breadcrumb-area">
        <!-- Top Breadcrumb Area -->
        <div class="top-breadcrumb-area bg-img bg-overlay d-flex align-items-center justify-content-center"
            style="background-image: url(/static/alazea-gh-pages/img/bg-img/24.jpg);">
            <h2>Checkout</h2>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#"><i class="fa fa-home"></i> Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Checkout</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- ##### Breadcrumb Area End ##### -->

    <!-- ##### Checkout Area Start ##### -->
    <div class="checkout_area mb-100">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-12 col-lg-7">
                    <div class="checkout_details_area clearfix">
                        <h5>Billing Details</h5>
                        <div class="col-md-4 mb-4">
                            <label for="address">Select Address</label>
                            <select name="address_id" id="selectAddress" onchange="function1()">
                                <option value="">Select address</option>
                                {% for address in address %}
                                <option value="{{ address.id }}" data-id="{{ address.id }}"
                                    data-name="{{ address.name }}" data-email="{{ address.user.email }}"
                                    data-number="{{ address.phone_number }}" data-house_name="{{address.house_name}}"
                                    data-street="{{ address.street }}" data-city="{{ address.city }}"
                                    data-state="{{ address.state }}" data-country="{{ address.country }}"
                                    data-zip="{{ address.postal_code }}">
                                    {{ address.street }}</option>
                                {% endfor %}
                        </div>
                        </select>
                    </div>
                    <form action="#" method="post">
                        <div class="row">
                            <div class="col-12 mb-4">
                                <label for="first_name">First Name *</label>
                                <input oninput="fn('name')" type="text" class="form-control" id="name" value="" required >
                            </div>
                            <div class="col-12 mb-4">
                                <label for="email_address">Email Address *</label>
                                <input  type="email" class="form-control" id="email" value="{{user.email}}" readonly >
                            </div>
                            <div class="col-12 mb-4">
                                <label for="phone_number">Phone Number *</label>
                                <input oninput="fn('number')" type="number" class="form-control" id="number" min="0" value=""  required>
                            </div>

                            <div class="col-12 mb-4">
                                <label for="company">House No</label>
                                <input oninput="fn('house_name')" type="text" class="form-control" id="house_name" value="" required>
                            </div>
                            <div class="col-12 mb-4">
                                <label for="company">Street</label>
                                <input  oninput="fn('street')" type="text" class="form-control" id="street" value="" required>
                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="city">Town/City *</label>
                                <input  oninput="fn('city')" type="text" class="form-control" id="city" value="" required>
                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="state">State/Province *</label>
                                <input  oninput="fn('state')"     type="text" class="form-control" id="state" value="" required >
                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="country">Country</label>
                                <input  oninput="fn('country')" type="text" class="form-control" id="country" value=""  required>

                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="postcode">Postcode/Zip</label>
                                <input oninput="fn('zip')" type="text" class="form-control" id="zip" value=""  required>
                            </div>
                            
                        </div>
                    </form>
                </div>
            </div>

            <div class="col-12 col-lg-4">
                <div class="checkout-content">
                    <h5 class="title--">Your Order</h5>
                    <div class="products">
                        <div class="products-data">
                            <h5>Products:</h5>
                            {% for cartitems in cart_items %}
                            <div class="single-products d-flex justify-content-between align-items-center">
                                <p>{{cartitems.product.product_name}} ({{cartitems.product_size.size}}
                                    -{{cartitems.quantity}})</p>
                                <h5>₹{{cartitems.get_subtotal}}</h5>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="subtotal d-flex justify-content-between align-items-center">
                        <h5>Total Quantity</h5>
                        <h5>8{{cart.get_total_quantity}}</h5>
                    </div>
                    <div class="subtotal d-flex justify-content-between align-items-center">
                        <h5>Total Price</h5>
                        <h5>₹{{cart.get_total_price}}</h5>
                    </div>
                    <div class="subtotal d-flex justify-content-between align-items-center">
                        <h5>Offer Price</h5>
                        <h5>₹{{cart.get_price_difference}}</h5>
                    </div>

                    <div class="shipping d-flex justify-content-between align-items-center">

                        <h5>Shipping</h5>
                        <h5>₹{{cart.get_shipping_charge}}</h5>

                    </div>

                    {% if cart.coupon_applied %}
                    <div class="order-total d-flex justify-content-between align-items-center">
                        <h5>Coupon Discount </h5>
                        <h5>₹{{cart.coupon_discount}}</h5>
                    </div>
                    {% endif %}

                    <div class="order-total d-flex justify-content-between align-items-center">
                        <h5>Order Total</h5>
                        <h5>₹{{cart.get_total}}</h5>
                    </div>
                    {% if balance.balance > 0 %}
                    <div class="wallet">
                        <input class="form-check-input" type="checkbox" value="wallet" id="wallet"
                            name="wallet" onchange="getValueFromCheckbox()" >
                        <label class="form-check-label">Take Amount From Wallet (Your wallet:{{balance.balance}})</label>
                    </div>
                    {% endif %}

                    <div class="form-check mt-4">
                        <input class="form-check-input" type="checkbox" value="COD" id="paymentCOD"
                            name="payment_method" onchange="handlePaymentMethodChange(this)">
                        <label class="form-check-label" for="paymentCOD">Cash on Delivery (COD)</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="PayPal" id="paymentPayPal"
                            name="payment_method" onchange="handlePaymentMethodChange(this)">
                        <label class="form-check-label" for="paymentPayPal">Online Payment</label>
                    </div>

                    <div class="checkout-btn mt-30">
                        <input type="hidden" name="address_id" id="adid">
                        <button id="placeOrderBtn" type="" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"  disabled >Place
                            Order</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <!-- ##### Checkout Area End ##### -->

    <!-- Modal -->

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <form action="{% url 'checkout:order' %}" method="post" class="pay-form" id="pay-form">
                        {% csrf_token %}
                        <div class="card mr-2" style="width: 18rem;">
                            <div class="card-body bg-light" style="width: 18rem;
                            border-radius: 10px">
                                <h5 class="card-title"> To Address</h5>
                                <input type="text" id="idpassed" name="idpassed" value="" hidden>



                                <p>
                                    <strong>Name:</strong> <span><input type="text" id="modalname" name="modalname" value="" readonly
                                            style="border: none;"></span><br>
                                    <strong>House No:</strong> <span><input type="text" id="modalhouse_name" name="modalhouse_name" value=""
                                            readonly style="border: none;"></span><br>
                                    <strong>Street:</strong> <span><input type="text" id="modalstreet" name="modalstreet" value="" readonly
                                            style="border: none;"></span><br>
                                    <strong>City:</strong> <span><input type="text" id="modalcity" name="modalcity"  value="" readonly
                                            style="border: none;"></span><br>
                                    <strong>State:</strong> <span><input  type="text" id="modalstate" name="modalstate" value="" readonly
                                            style="border: none;"></span><br>
                                    <strong>Country:</strong> <span value="bcfdxfgfghfgf"><input type="text" name="modalcountry"
                                            id="modalcountry" value="" readonly style="border: none;"></span><br>
                                    <strong>Postal Code:</strong> <span><input type="text" id="modalzip"  name="modalzip" value=""
                                            readonly style="border: none;"></span><br>
                                    <strong>Phone Number:</strong> <span><input type="text" id="modalnumber" name="modalnumber" value=""
                                            readonly style="border: none;"></span><br>

                                </p>

                            </div>
                        </div>
                        {% for items in cart_items %}
                        <div class="card shadow-0 border mb-4">
                            <div class="card-body">
                                <div class="row">

                                    <div class="col-md-2">
                                        <img src="{{items.product_size.product_photo.url}}" class="img-fluid"
                                            alt="Phone">
                                    </div>
                                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                                        <p class="text-muted mb-0">{{items.product.product_name}}</p>
                                    </div>
                                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                                        <p class="text-muted mb-0 small">{{items.product_size.size}}</p>
                                    </div>
                                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                                        <p class="text-muted mb-0 small">Qty: {{items.quantity}}</p>
                                    </div>
                                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                                        <p class="text-muted mb-0 small">${{items.get_subtotal}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}

                        <div class="subtotal d-flex justify-content-between align-items-center">
                            <h5>Total Quantity</h5>
                            <h5>{{cart.get_total_quantity}}</h5>
                        </div>
                        <div class="subtotal d-flex justify-content-between align-items-center">
                            <h5>Total Price</h5>
                            <h5>₹{{cart.get_total_price}}</h5>
                        </div>
                        <div class="subtotal d-flex justify-content-between align-items-center">
                            <h5>Offer Price</h5>
                            <h5>₹{{cart.get_price_difference}}</h5>
                        </div>

                        <div class="shipping d-flex justify-content-between align-items-center">
                            <h5>Shipping</h5>
                            <h5>₹{{cart.get_shipping_charge}}</h5>
                        </div>

                        {% if cart.coupon_applied %}
                        <div class="order-total d-flex justify-content-between align-items-center">
                            <h5>COUPON DISCOUNT </h5>
                            <h5>₹ {{cart.coupon_discount}} </h5>
                        </div>
                        {% endif %}
                         
                        <input id="wallet_modal" name="wallet_modal" value="" hidden>
                        <input id="gettotal" name="gettotal" value="{{cart.get_total}}" hidden>
                        <input id="balance" name="balance" value="{{balance.balance}}" hidden>

                        <div class="order-total d-flex justify-content-between align-items-center">
                            <h5>Order Total</h5>
                            <h5 id="paymentAmount"></h5>
                        </div>

                        <div class="order-total d-flex justify-content-between align-items-center">
                            <h5>Payment Method</h5>
                            <h5 id="payment_modal" name="payment_model" value=""></h5>
                            <input id="payment_modal2" name="payment_modal2" value="" hidden>
                        </div>
                      
                       

                        
                        

                </div>
                <div class="modal-footer">
                    <button type="submit"  class="btn btn-primary">Ready To Order</button>
                    </form>
                </div>
            </div>
        </div>
    </div>




    <!-- ##### Footer Area Start ##### -->
    <footer class="footer-area bg-img" style="background-image: url(/static/alazea-gh-pages/img/bg-img/3.jpg);">
        <!-- Main Footer Area -->
        <div class="main-footer-area">
            <div class="container">
                <div class="row">

                    <!-- Single Footer Widget -->
                    <div class="col-12 col-sm-6 col-lg-3">
                        <div class="single-footer-widget">
                            <div class="footer-logo mb-30">
                                <a href="#"><img src="/static/alazea-gh-pages/img/core-img/logo3.png" alt=""></a>
                            </div>
                        </div>
                    </div>

                    <!-- Single Footer Widget -->
                    <div class="col-12 col-sm-6 col-lg-3">
                        <div class="single-footer-widget">
                            <div class="widget-title">
                                <h5>QUICK LINK</h5>
                            </div>
                            <nav class="widget-nav">
                                <ul>
                                    <li><a href="#">Purchase</a></li>
                                    <li><a href="#">FAQs</a></li>
                                    <li><a href="#">Payment</a></li>
                                    <li><a href="">News</a></li>
                                    <li><a href="#">Return</a></li>
                                    <li><a href="#">Advertise</a></li>
                                    <li><a href="#">Shipping</a></li>
                                    <li><a href="#">Career</a></li>
                                    <li><a href="#">Orders</a></li>
                                    <li><a href="#">Policities</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>

                    
                    <!-- Single Footer Widget -->
                    <div class="col-12 col-sm-6 col-lg-3">
                        <div class="single-footer-widget">
                            <div class="widget-title">
                                <h5>CONTACT</h5>
                            </div>

                            <div class="contact-information">
                                <p><span>Address:</span>MAIN ROAD CHALAKUDY</p>
                                <p><span>Phone:</span> +1 234 122 122</p>
                                <p><span>Email:</span> info.verdure@gmail.com</p>
                                <p><span>Open hours:</span> Mon - Saturday: 8 AM to 9 PM</p>
                                <p><span>Happy hours:</span> Sat: 2 PM to 4 PM</p>
                            </div>
                        </div>
                    </div>
        
                    <div class="col-12 col-sm-6 col-lg-3 mt-5">
                    <div class="single-footer-widget mt-5">
                        <div class="social-info">
                            <a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                            <a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                            <a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a>
                            <a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                            <a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>

        <!-- Footer Bottom Area -->
        <div class="footer-bottom-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="border-line"></div>
                    </div>
                    <!-- Copywrite Text -->
                    <div class="col-12 col-md-6">
                        <div class="copywrite-text">
                            <p>&copy; <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved 
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
</p>
                        </div>
                    </div>
                    <!-- Footer Nav -->
                    <div class="col-12 col-md-6">
                        <div class="footer-nav">
                            <nav>
                                <ul>
                                    <li><a href="#">Home</a></li>
                                    <li><a href="#">About</a></li>
                                    <li><a href="#">Shop</a></li>
                                    <li><a href="#">Contact</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- ##### Footer Area End ##### -->

    <script>
        function handleInput() {
            console.log("ghgjhgjk")
            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var number = document.getElementById('number').value;
            var house_name = document.getElementById('house_name').value;
            var street = document.getElementById('street').value;
            var city = document.getElementById('city').value;
            var state = document.getElementById('state').value;
            var country = document.getElementById('country').value;
            var zip = document.getElementById('zip').value;
        
            var paymentMethods = getSelectedPaymentMethod();
            var placeOrderBtn = document.getElementById('placeOrderBtn');
        
            if (name !== '' && email !== '' && number !== '' && house_name !== '' && street !== '' && city !== '' && state !== '' && country !== '' && zip !== '' && paymentMethods !== '') {
                placeOrderBtn.removeAttribute('disabled');
            } else {
                placeOrderBtn.setAttribute('disabled', 'disabled');
            }
        }

        function getSelectedPaymentMethod() {
            var paymentMethods = document.getElementsByName('payment_method');
            var selectedPaymentMethod = '';
          
            for (var i = 0; i < paymentMethods.length; i++) {
                if (paymentMethods[i].checked) {
                    selectedPaymentMethod = paymentMethods[i].value;
                    break;
                }
            }
          
            return selectedPaymentMethod;
        }
        
     
        
        // Add oninput event listeners to the input fields
        document.getElementById('name').addEventListener('input', handleInput);
        document.getElementById('email').addEventListener('input', handleInput);
        document.getElementById('number').addEventListener('input', handleInput);
        document.getElementById('house_name').addEventListener('input', handleInput);
        document.getElementById('street').addEventListener('input', handleInput);
        document.getElementById('city').addEventListener('input', handleInput);
        document.getElementById('state').addEventListener('input', handleInput);
        document.getElementById('country').addEventListener('input', handleInput);
        document.getElementById('zip').addEventListener('input', handleInput);
        document.getElementById('paymentCOD').addEventListener('change', handleInput);
        document.getElementById('paymentPayPal').addEventListener('change', handleInput);
        
    </script>
    <!-- ##### Footer Area End ##### -->
    <script>
        function function1() {
            var selectAddress = document.getElementById("selectAddress");
            var selectedOption = selectAddress.options[selectAddress.selectedIndex];
            var selectedValue = selectedOption.value;


            if (selectedValue === "none") {
                // Clear the address fields
                document.getElementById('name').value = "";
                document.getElementById('email').value = "";
                document.getElementById('number').value = "";
                document.getElementById('house_name').value = "";
                document.getElementById('street').value = "";
                document.getElementById('city').value = "";
                document.getElementById('state').value = "";
                document.getElementById('country').value = "";
                document.getElementById('zip').value = "";
            } else {
                // Fetch the selected address details dynamically
                var name = selectedOption.getAttribute("data-name");
                var email = selectedOption.getAttribute("data-email");
                var number = selectedOption.getAttribute("data-number");
                var house_name = selectedOption.getAttribute("data-house_name");
                var street = selectedOption.getAttribute("data-street");
                var city = selectedOption.getAttribute("data-city");
                var state = selectedOption.getAttribute("data-state");
                var country = selectedOption.getAttribute("data-country");
                var zip = selectedOption.getAttribute("data-zip");
                var adid = selectedOption.getAttribute("data-id");


                document.getElementById('name').value = name;
                document.getElementById('email').value = email;
                document.getElementById('number').value = number;
                document.getElementById('house_name').value = house_name;
                document.getElementById('street').value = street;
                document.getElementById('city').value = city;
                document.getElementById('state').value = state;
                document.getElementById('country').value = country;
                document.getElementById('zip').value = zip;
                document.getElementById('adid').value = adid;

                document.getElementById('idpassed').value = adid;
                document.getElementById('modalcountry').value = country;
                document.getElementById('modalname').value = name;
                document.getElementById('modalhouse_name').value = house_name;
                document.getElementById('modalstreet').value = street;
                document.getElementById('modalcity').value = city;
                document.getElementById('modalstate').value = state;
                document.getElementById('modalzip').value = zip;
                document.getElementById('modalnumber').value = number;




            }
        }
        function handlePaymentMethodChange(checkbox) {
            var checkboxes = document.querySelectorAll('input[name="payment_method"]');


            checkboxes.forEach(function (checkbox) {
                if (checkbox !== event.target) {
                    checkbox.checked = false;
                }
            });


            document.getElementById('payment_modal').innerText = event.target.value
            document.getElementById('payment_modal2').value = event.target.value


        }
        function fn(id){
            console.log( document.getElementById(id).value)
            document.getElementById('modal'+id).value=document.getElementById(id).value

        }

        function getValueFromCheckbox() {
            var checkboxValue = $("#wallet").is(":checked");
            console.log("Checkbox value:", checkboxValue);
            document.getElementById('wallet_modal').value=checkboxValue
            $("#modalCheckboxValue").text(checkboxValue);
        }

    </script>

    <script>
        $(document).ready(function() {
            $('#exampleModal').on('shown.bs.modal', function() {
                console.log("here")

        var wallet = document.getElementById('wallet_modal').value;
        console.log(wallet)
       var total = document.getElementById('gettotal').value;
        console.log(total)
        var balance = document.getElementById('balance').value;
        console.log(balance)
        var paymentAmount;

if (wallet === "true") {
    if (balance > total) {
        paymentAmount = 0;
    } else {
        paymentAmount = total - balance;
    }
} else {
    paymentAmount = total;
}


document.getElementById('paymentAmount').textContent = "₹" + paymentAmount;
})
        })
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script>

    
    <!-- ##### All Javascript Files ##### -->
    <!-- jQuery-2.2.4 js -->
    <script src="/static/alazea-gh-pages/js/jquery/jquery-2.2.4.min.js"></script>
    <!-- Popper js -->
    <script src="/static/alazea-gh-pages/js/bootstrap/popper.min.js"></script>
    <!-- Bootstrap js -->
    <script src="/static/alazea-gh-pages/js/bootstrap/bootstrap.min.js"></script>
    <!-- All Plugins js -->
    <script src="/static/alazea-gh-pages/js/plugins/plugins.js"></script>
    <!-- Active js -->
    <script src="/static/alazea-gh-pages/js/active.js"></script>
    <script>

        document.getElementById('pay-form').addEventListener('submit', function (event) {
            event.preventDefault();
            var payment_method = document.getElementById('payment_modal2').value;
            var wallet=document.getElementById('wallet_modal').value;
            var id;

            if (wallet === "true") {
                id = 1;
            } else {
                id = 0;
            }
            console.log("value of method modal", payment_method);
            console.log(wallet);
            if (payment_method === 'COD') {
                this.submit();
            } else if (payment_method === 'PayPal') {
                var formData = $('form').serialize();
                console.log(formData)
                var url = "{% url 'checkout:razorpay_payment' 0 %}".replace('0',id);
                $.ajax({
                    url: url,
                    type: "POST",
                    data: formData,
                    success: function (res) {
                        if (res.success) {
                            console.log(res.order_id);
                            var options = {
                                "key": "" + res.key_id + "",
                                "amount": "" + res.amount + "",
                                "currency": "INR",
                                "name": "Verdure",
                                "description": "Test Transaction",
                                "image": "/images/resources/dclogo.png",
                                "order_id": "" + res.order_id + "",
                                "handler": function (response) {
                                    var form = $('.pay-form');
                                    var url = form.attr('action');
                                    var method = form.attr('method');
                                    $('<input>').attr({
                                        type: 'hidden',
                                        name: 'paymentMethod',
                                        value: response.razorpay_payment_id
                                    }).appendTo(form);

                                    form.attr('action', "{% url 'checkout:order' %}");
                                    form.attr('method', 'POST');
                                    form.unbind('submit').submit();
                                    form.attr('action', url);
                                    form.attr('method', method);
                                },
                                "prefill": {
                                    "name": "" + res.name + "",
                                    "email": "" + res.email + "",
                                    "contact": "" + res.mobile + ""
                                },
                                "notes": {
                                    "address": "Razorpay Corporate Office"
                                },
                                "theme": {
                                    "color": "#000"
                                }
                            };
                            var rzp1 = new Razorpay(options);
                            console.log(options)


                            rzp1.on('payment.failed', function (response) {
                                console.log('inside on')
                                alert("Payment Failed");
                            });
                            rzp1.open();
                        } else {

                            alert(res.msg);
                        }
                    }
                });
            }
        })
    </script>
</body>

</html>